{"version":3,"sources":["aura:core/lib/collections.coffee","aura:core/client/aura.coffee","aura:core/lib/credentials.coffee","aura:core/server/server.coffee","aura:core/server/seed.coffee"],"names":[],"mappings":"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","file":"/packages/aura:core.js","sourcesContent":["@AuraColl = {}\n\n@AuraHistory = new Mongo.Collection('auraHistory')\n@AuraPages = new Mongo.Collection('auraPages')\n@AuraLogs = new Mongo.Collection('auraLogs')\n@AuraSettings = new Mongo.Collection('auraSettings')\n\nAuraColl['auraHistory'] = AuraHistory\nAuraColl['auraPages'] = AuraPages\nAuraColl['auraLogs'] = AuraLogs\nAuraColl['auraSettings'] = AuraSettings","\nif Meteor.isClient\n\n  console.log 'aura is working'\n\n  Session.setDefault 'admin.editMode', false\n\n  AuraColl['users'] = Meteor.users\n\n  Meteor.subscribe 'users'\n  Meteor.subscribe 'auraPages'\n  Meteor.subscribe 'auraHistory'\n\n  #Regestering helpers\n\n  Template.registerHelper 'common', ->\n    AuraPages.findOne({name: 'common'})\n\n  Template.registerHelper 'index', ->\n    AuraPages.findOne({name: 'index'})\n\n  Template.registerHelper 'userIsAdmin', ->\n    Roles.userIsInRole(Meteor.userId(), ['owner','admin'])\n\n  Template.registerHelper 'contacts', ->\n    AuraPages.findOne({name: 'contacts'})\n\n  Template.registerHelper 'summer', ->\n    AuraPages.findOne({name: 'summer'})\n\n  Template.registerHelper 'children', ->\n    AuraPages.findOne({name: 'children'})\n\n  Template.registerHelper 'teens', ->\n    AuraPages.findOne({name: 'teens'})\n\n  Template.registerHelper 'lateTeens', ->\n    AuraPages.findOne({name: 'lateTeens'})\n\n  Template.registerHelper 'grownUps', ->\n    AuraPages.findOne({name: 'grownUps'})\n\n  Template.registerHelper 'international', ->\n    AuraPages.findOne({name: 'international'})\n\n  Template.registerHelper 'eventsList', ->\n    AuraPages.findOne({name: 'events'})\n\n  Template.registerHelper 'inputInstantGetDate', (date)->\n    moment(date).lang('ru').format('YYYY-MM-DD')\n\n  Template.registerHelper 'getDate', (date)->\n    moment(date).lang('ru').format('DD.MM.YYYY, hh:mm')\n\n  Template.registerHelper 'history', ->\n    AuraHistory.find({}, {sort: {date: -1}})\n\n  Template.registerHelper 'auraCheckboxIsChecked', (value)->\n    if value\n      'checked'\n    else\n      ''\n\n  Template.registerHelper 'storagePath', ->\n    'http://d1tvqt3gjtui5j.cloudfront.net'\n\n  Meteor.startup ->\n\n    $('body').on 'click', '.close-modal', ->\n\n      $('.auraModal').removeClass '_opened'\n\n    $('body').on 'mouseenter', '[data-aura-html][contenteditable=\"true\"]', (e)->\n\n      target = $(e.currentTarget)\n      target.addClass('_editor-hover')\n      Meteor.setTimeout ->\n        target.removeClass('_editor-hover')\n      , 600\n\n\n\n    Deps.autorun ->\n      console.log 'session worked!'\n      if Session.get('admin.editMode') is true\n        $('[contenteditable]').each ->\n          $(this).attr('contenteditable', 'true')\n      else\n        $('[contenteditable]').each ->\n          $(this).attr('contenteditable', 'false')\n\n\n    $('body').on 'click', '.logout', ->\n\n      Meteor.logout()\n\n    $('body').find('.aura-toggle-edit').on 'click', (e)->\n      console.log 'changed'\n      console.log $(e.currentTarget)\n      $(e.currentTarget).toggleClass('_active')\n      if $(e.currentTarget).hasClass('_active')\n        Session.set 'admin.editMode', true\n        $(e.currentTarget).find('p').text('')\n      else\n        Session.set 'admin.editMode', false\n        $(e.currentTarget).find('p').text('')\n\n\n    Mousetrap.bind 'q w e', (e)->\n      Aura.showAdminModal()\n\n    Mousetrap.bind '  ', (e)->\n      Aura.showAdminModal()\n\n    Mousetrap.bind ['ctrl+shift+e', 'command+shift+e', 'ctrl+shift+', 'ctrl+shift+'], (e)->\n      Aura.toggleEditMode()\n\n    Mousetrap.bind ['ctrl+shift+s', 'command+shift+s', 'ctrl+shift+', 'ctrl+shift+'], (e)->\n      $(editor.editingItemSelector).trigger('blur')\n      $('.editor').find('#b-save').trigger('click')\n\n\n    Template.auraAdminPanel.events {\n\n#      'click #edit-mode': (e)->\n#        if $(e.target).is(':checked')\n#          Session.set('admin.editMode', true)\n#          aloha.dom.query('[data-aura-html]', document).forEach(aloha)\n#        else\n#          Session.set('admin.editMode', false)\n#          aloha.dom.query('[data-aura-html]', document).forEach(aloha.mahalo)\n\n      'mouseleave #history-cont li': (e)->\n        if Aura.historyDiffTimeout\n          Meteor.clearTimeout(Aura.historyDiffTimeout)\n        $('.aura-diff-cont').remove()\n\n      'mouseenter #history-cont li': (e)->\n        if Aura.historyDiffTimeout\n          Meteor.clearTimeout(Aura.historyDiffTimeout)\n        Aura['historyDiffTimeout'] = Meteor.setTimeout ->\n\n          Aura['diff'] = new diff_match_patch()\n          item = AuraHistory.findOne({_id: $(e.currentTarget).data('id')})\n          selectorPath = item.collection + '::' + item.document + '::' + item.field\n          changedData = item.changedData\n          data = item.data\n          diff = Aura.diff.diff_prettyHtml(Aura.diff.diff_main(changedData, data))\n          markup = Blaze.toHTMLWithData Template.historyDiffCont, {selectorPath: selectorPath}\n          $('body').append(markup)\n          $('.aura-diff-cont').css('top', ($(e.currentTarget).offset().top - $(window).scrollTop()) + 'px').css('left', $(e.currentTarget).offset().left + 'px').addClass '_visible'\n          $('.aura-diff-cont').find('p').html($.htmlClean(diff, {format:true}))\n        , 1000\n\n      'click #history-cont li': (e)->\n        selectorPath = $(e.currentTarget).data('selector-path')\n        id = $(e.currentTarget).data('id')\n        Meteor.call 'restoreHistory', id, (err, res)->\n          if err\n            console.log err\n          else\n            Aura.notify ' !'\n            if $(selectorPath).length > 0\n              Meteor.defer ->\n                $(selectorPath).html(res)\n            console.log 'changed item saved'\n\n      'click #toggle-users': ->\n\n        $('#auraUsersModal').addClass '_opened'\n\n      'click .aura-toggle-edit': (e)->\n        $(e.currentTarget).toggleClass('_active')\n        if $(e.currentTarget).hasClass('_active')\n          Session.set 'admin.editMode', true\n          $(e.currentTarget).find('p').text('')\n        else\n          Session.set 'admin.editMode', false\n          $(e.currentTarget).find('p').text('')\n\n#      'click #history-cont li': (e)->\n#        target = $(e.target).closest('li').data('id')\n#        Aura._historyRestore(target)\n\n      'click .aura-admin-button': (e)->\n\n        if $(e.currentTarget).attr('data-admin-toggle')\n\n          if $(e.currentTarget).hasClass '_expanded'\n            $(e.currentTarget).removeClass '_expanded'\n            target = $(e.currentTarget).data('admin-toggle')\n            $(target).removeClass('_expanded').height(0)\n          else\n            $(e.currentTarget).addClass '_expanded'\n            target = $(e.currentTarget).data('admin-toggle')\n            $(target).addClass('_expanded').height($(target).find('>ul').height())\n    }\n\n    Template.aura.rendered = ->\n\n#      $.getScript '/scripts/ace.js', ->\n#        console.log 'ace loaded'\n#        editor.htmlEditorInit()\n\n\n    Template.aura.events {\n      'click .close span': ->\n        console.log 'closing'\n        Aura.hideAdminModal()\n\n    }\n\n\n    Template.auraLoginModal.events {\n\n      'click .close': ->\n\n        Aura.hideAdminModal()\n\n      'click #login': (e)->\n\n        e.preventDefault()\n        email = $('#login-email').val()\n        password = $('#login-password').val()\n        Meteor.loginWithPassword email, password, ->\n          Aura.hideAdminModal()\n\n    }\n\n\n    Template.auraUsersModal.rendered = ->\n\n      $('#aura-users-cont > ul > li').first().trigger('click')\n\n\n    Template.auraUsersModal.helpers {\n\n        allUsers: ->\n          Meteor.users.find()\n\n        getPermissions: (roles)->\n\n          if roles\n\n            role = roles[0]\n            if role is 'admin'\n              ''\n            else if role is 'owner'\n              ''\n\n        isNewUser: ->\n\n          if Session.get('auraSelectedUser') is 'new'\n            true\n          else\n            false\n\n\n        getImage: (pic)->\n\n          if pic\n            \"background-image: url(http://d1tvqt3gjtui5j.cloudfront.net/aura/\" + pic + \")\"\n          else\n            ''\n\n        selectedUser: ->\n\n          id = Session.get 'auraSelectedUser'\n          Meteor.users.findOne({'_id': id})\n\n      }\n\n    Template.auraUsersModal.events {\n\n      'click #aura-users-cont > ul > li': (e)->\n\n        $(e.currentTarget).addClass('_active').siblings().removeClass('_active')\n\n        if $(e.currentTarget).hasClass('add-user')\n\n          Session.set('auraSelectedUser', 'new')\n\n        else\n\n          id = $(e.currentTarget).data('id')\n          Session.set('auraSelectedUser', id)\n\n      'click .remove': (e)->\n\n        id = $(e.currentTarget).closest('li').data('id')\n\n        Meteor.call 'auraRemoveUser', id, (err, res)->\n\n          if err\n\n            Aura.notify '  ,   '\n\n          else\n\n            Aura.notify ' !'\n\n    }\n\n    Template.auraNewUser.events {\n\n      'click #create-user': ->\n\n        if $('#user-name').val() isnt '' and $('#user-surname').val() isnt '' and $('#user-email').val() isnt '' and $('#user-password').val() isnt ''\n          options = {\n            name: $('#user-name').val()\n            surname: $('#user-surname').val()\n            email: $('#user-email').val()\n            password: $('#user-password').val()\n            role: $('#permissions-select').val()\n            pic: null\n          }\n\n          if Meteor.users.findOne('emails.$.address': options.email)\n\n            Aura.notify '   e-mail  !'\n\n          else\n\n            if $('#user-pic').get(0).files[0]\n\n              NProgress.start()\n              file = $('#user-pic').get(0).files[0]\n              fr = new FileReader()\n              fr.onload = ->\n                pic = {}\n                pic['data'] = fr.result\n                pic['name'] = file.name\n                pic['size'] = file.size\n                pic['type'] = file.type\n                Meteor.call 'uploadPic', pic, 'ahsl2/aura', (error, newPic)->\n                  NProgress.done()\n                  if error\n                    console.log error\n                  else\n                    options['pic'] = newPic\n                    Meteor.call 'auraCreateUser', options, (err, res)->\n\n                      if err\n                        Aura.notify ', -    :(   ', 'error'\n\n                      else\n\n                        Aura.notify ',  !', 'success'\n                        console.log res\n\n              fr.readAsBinaryString(file)\n\n            else\n\n              Meteor.call 'auraCreateUser', options, (err, res)->\n\n                if err\n                  Aura.notify ', -    :(   ', 'error'\n\n                else\n\n                  Aura.notify ',  !', 'success'\n                  console.log res\n\n        else\n\n          Aura.notify ',     ,  !'\n\n\n    }\n\n    Template.auraUsersModalSettings.rendered = ->\n\n      $('.aura-select').select2('destroy')\n\n      $('.aura-select').select2({\n        minimumResultsForSearch: -1\n      })\n\n    Template.auraNewUser.rendered = ->\n\n      $('.aura-select').select2('destroy')\n\n      $('.aura-select').select2({\n        minimumResultsForSearch: -1\n      })\n\n    Template.auraUsersModalSettings.helpers {\n\n      getEmail: (emails)->\n        emails[0].address\n\n    }\n\n\n\n    Template.auraEditor.rendered = ->\n\n      console.log 'editor rendered'\n\n\n      $('.html-cont').on 'keyup', ->\n        Meteor.setTimeout ->\n          console.log 'changing value'\n          value = editor.auraEditorHtml.getValue().replace(/\\s+/g, ' ')\n          target = $('.editor').find('.html-cont').data('path')\n          console.log target\n          console.log value\n          $(target).html(value)\n        , 50\n\n    Template.auraEditor.events {\n\n      'click button': (e)->\n        console.log editor.editingItemSelector\n        if editor.editingItemSelector\n          data = editor.editingItemSelector.html()\n          editor.editingItemSelector.trigger('input')\n          Meteor.setTimeout ->\n            editor.editingItem = data\n          , 100\n\n      'click #b-html': (e)->\n        console.log 'opening editor'\n        if $(e.target).hasClass('_active')\n          $('.editor .html-cont').removeClass('flipInX').addClass('flipOutX')\n          $(e.currentTarget).removeClass('_active')\n        else\n          $('.editor .html-cont').css('visibility', 'visible').removeClass('flipOutX').addClass('animated flipInX')\n          $(e.currentTarget).addClass('_active')\n\n#      'click .editor .html-cont button': (e)->\n#        path = $('.editor .html-cont').data('path')\n#        val = $('.editor .html-cont').data('resetData')\n#        editor.auraEditorHtml.setValue(val)\n#        $(path).html(val)\n#\n#      'input .editor .html-cont textarea': (e)->\n#        path = $(e.target).data('path')\n#        $(path).html($(e.target).val().trim())\n\n      'blur .editor .html-cont textarea': (e)->\n#        console.log 'html editor blured'\n#        index = $(e.target).data('index')\n#        html = $(e.target).val()\n#        console.log index\n#        console.log $(e.target).data('path')\n#        editor._changedBuffer[index].data = html\n        $($(e.target).data('path')).trigger('blur')\n\n      'change #add-embed-image': (e)->\n\n        console.log 'uploading embed image'\n        input = $(e.target)\n        file = input.get(0).files[0]\n        fr = new FileReader()\n        NProgress.start()\n        fr.onload = ->\n          pic = {}\n          pic['data'] = fr.result\n          pic['name'] = file.name\n          pic['size'] = file.size\n          pic['type'] = file.type\n          Meteor.call 'uploadPic', pic, 'ahsl2/images', (error, newPic)->\n            NProgress.done()\n            if error\n              console.log error\n            else\n              path = 'http://d1tvqt3gjtui5j.cloudfront.net/images/' + newPic\n              html = document.createElement('img')\n              html.setAttribute('src', path)\n              html.setAttribute('data-aura-image-embed', '')\n              html.setAttribute('class', 'aura-float-left')\n              editor.commands.pasteHtml(html)\n              $(e.currentTarget).closest('[contenteditable]').trigger('input')\n\n        fr.readAsBinaryString(file)\n\n\n\n\n      'click #b-bold': ->\n        editor.commands.bold()\n\n      'click #b-add-quot': ->\n        el = document.createElement('p')\n        el.setAttribute('class', 'inline-quot')\n        editor.commands.wrapRange(el)\n\n      'click #b-add-video': ->\n        code = prompt(\"     YouTube\")\n        editor.commands.pasteHtml(code)\n\n      'click #b-italic': ->\n        editor.commands.italic()\n\n      'click #b-sub': ->\n        editor.commands.sub()\n\n      'click #b-sup': ->\n        editor.commands.sup()\n\n      'click #b-ul': ->\n        editor.commands.ul()\n\n      'click #b-ol': ->\n        editor.commands.ol()\n\n      'click #b-h1': ->\n        editor.commands.h1()\n\n      'click #b-h2': ->\n        editor.commands.h2()\n\n      'click #b-h3': ->\n        editor.commands.h3()\n\n      'click #b-h4': ->\n        editor.commands.h4()\n\n      'click #b-h5': ->\n        editor.commands.h5()\n\n      'click #b-h6': ->\n        editor.commands.h6()\n\n      'click #b-span': ->\n        editor.commands.span()\n\n      'click #b-link': ->\n        editor.commands.link()\n\n      'click #b-align-left': ->\n        editor.commands.justifyLeft()\n\n      'click #b-align-right': ->\n        editor.commands.justifyRight()\n\n      'click #b-align-center': ->\n        editor.commands.justifyCenter()\n\n      'click #b-align-justify': ->\n        editor.commands.justifyFull()\n\n      'click #b-save': (e)->\n\n\n        editor.hideEditor()\n        editor.save()\n\n    }\n\n\nif Meteor.isClient\n\n  console.log 'visible'\n\n  Meteor.startup ->\n\n    PNotify.prototype.options.styling = \"fontawesome\"\n\n\n    $('body').on 'dragover', '[data-aura-image-background], [data-aura-image], [data-aura-list-image-background], [data-aura-list-image], [data-aura-with-image-background], [data-aura-with-image]', (e)->\n      if e.preventDefault then e.preventDefault()\n      $(e.currentTarget).addClass('_hover')\n      return false\n\n    $('body').on 'dragenter', '[data-aura-image-background], [data-aura-image], [data-aura-list-image-background], [data-aura-list-image], [data-aura-with-image-background], [data-aura-with-image]', (e)->\n      if e.preventDefault then e.preventDefault()\n      $(e.currentTarget).addClass('_hover')\n      return false\n\n    $('body').on 'dragleave', '[data-aura-image-background], [data-aura-image], [data-aura-list-image-background], [data-aura-list-image], [data-aura-with-image-background], [data-aura-with-image]', (e)->\n      if e.preventDefault then e.preventDefault()\n      $(e.currentTarget).removeClass('_hover')\n      return false\n\n    $('body').on 'drop', '[data-aura-image-background], [data-aura-image], [data-aura-list-image-background], [data-aura-list-image], [data-aura-with-image-background], [data-aura-with-image]', (e)->\n      if Session.get('admin.editMode')\n        console.log 'droped'\n        e.preventDefault()\n        e.stopPropagation()\n        $(e.target).removeClass('_hover')\n        NProgress.start()\n        file = e.originalEvent.dataTransfer.files[0]\n        fr = new FileReader()\n  #      MainCtrl.showLoader()\n        fr.onload = ->\n          pic = {}\n          pic['data'] = fr.result\n          pic['name'] = file.name\n          pic['size'] = file.size\n          pic['type'] = file.type\n          currentPic = do ->\n            if $(e.currentTarget).data('aura-image-background') or $(e.currentTarget).data('aura-list-image-background') or $(e.currentTarget).data('aura-with-image-background')\n              path = $(e.currentTarget).css('background-image')\n              _.last(path.split('/')).replace(')', '')\n            else\n              path = $(e.currentTarget).attr('src')\n              _.last path.split('/')\n  #        target = $(e.target).closest('[data-image]').data('image-target') or 'img'\n          (new PNotify({\n            title: '  ?',\n            text: ' ,    ',\n            hide: false,\n            confirm: {\n              confirm: true\n            },\n            buttons: {\n              closer: false,\n              sticker: false\n            },\n            history: {\n              history: false\n            }\n          })).get().on('pnotify.confirm', ->\n\n            Aura.media.updatePic(e, pic, file, currentPic, 'ahsl2/images', false)\n            console.log pic\n            console.log file\n            console.log currentPic\n\n          ).on('pnotify.cancel', ->\n            Aura.media.uploadPic(e, pic, file, 'ahsl2/images', false)\n            console.log pic\n            console.log file\n            console.log currentPic\n          )\n\n        fr.readAsBinaryString(file)\n\n    $('body').on 'paste', '[data-aura-html][contenteditable=\"true\"], [data-aura-list-html][contenteditable=\"true\"], [data-aura-list-html][contenteditable=\"true\"]', (e)->\n      console.log 'pasted'\n      $el = $(e.target).closest('[contenteditable=\"true\"]')\n      Meteor.defer ->\n        html = $el.html()\n        cleanHtml = AuraUtils.cleanHTML(html)\n        console.log cleanHtml\n        $el.html(cleanHtml)\n      , 100\n\n    $('body').on 'dragover', '[data-aura-image-embed]', (e)->\n      if e.preventDefault then e.preventDefault()\n      $(e.currentTarget).addClass('_hover')\n      return false\n\n    $('body').on 'dragenter', '[data-aura-image-embed]', (e)->\n      if e.preventDefault then e.preventDefault()\n      $(e.currentTarget).addClass('_hover')\n      return false\n\n    $('body').on 'dragleave', '[data-aura-image-embed]', (e)->\n      $(e.currentTarget).removeClass('_hover')\n      return false\n\n    $('body').on 'drop', '[data-aura-image-embed]', (e)->\n      if Session.get('admin.editMode')\n        console.log 'droped'\n        NProgress.start()\n        e.preventDefault()\n        e.stopPropagation()\n        $(e.currentTarget).removeClass('_hover')\n        file = e.originalEvent.dataTransfer.files[0]\n        fr = new FileReader()\n        #      MainCtrl.showLoader()\n        path = $(e.currentTarget).attr('src')\n        fr.onload = ->\n          pic = {}\n          pic['data'] = fr.result\n          pic['name'] = file.name\n          pic['size'] = file.size\n          pic['type'] = file.type\n          currentPic = do ->\n            _.last path.split('/')\n          Meteor.call 'deletePic', currentPic, 'ahsl2/images', (err, res)->\n            if err\n              console.log err\n            else\n              Meteor.call 'uploadPic', pic, 'ahsl2/images', (error, newPic)->\n                NProgress.done()\n                if error\n                  console.log error\n                else\n                  $(e.currentTarget).attr('src', _.without(path.split('/'), _.last(path.split('/'))).join('/') + '/' + newPic)\n                  $(e.currentTarget).closest('[contenteditable]').trigger('input')\n\n        fr.readAsBinaryString(file)\n\n\n    $('body').on 'focus', '[data-aura-html][contenteditable=\"true\"], [data-aura-list-html][contenteditable=\"true\"],  [data-aura-with-html][contenteditable=\"true\"]', 'focus', (e)->\n\n      console.log 'focused on element'\n      e.stopImmediatePropagation()\n      e.stopPropagation()\n      data = $(e.currentTarget).html()\n      markup = $.htmlClean(data, {format:true})\n      editor.showEditor(markup)\n      editor._trackChanges.currentValue = data\n      editor.editingItem = data\n      editor.editingItemSelector = $(e.currentTarget)\n#      editor.auraEditorHtml.setValue(markup)\n      $('.editor .html-cont').data('resetData', markup)\n      $('.editor .html-cont').data('path', $(e.target).closest('[contenteditable=\"true\"]').getPath())\n\n\n    $('body').on 'blur', '[data-aura-html][contenteditable=\"true\"], [data-aura-list-html][contenteditable=\"true\"],  [data-aura-with-html][contenteditable=\"true\"]', (e)->\n\n      console.log 'blurred'\n      if !editor.blured\n        console.log 'editor not blured'\n        currentState = $(e.currentTarget).html()\n        if currentState isnt editor.editingItem\n\n          console.log('currentState isnt editor.editingItem')\n\n          $('.editor .html-cont textarea').data('index', editor._changedBuffer.length)\n\n          #Check the type of stuff and generate query params\n\n          if $(e.currentTarget).data('aura-html')\n\n            query = $(e.currentTarget).data('aura-html')\n            document = query.split('.')[0]\n            field = query.split('.').splice(1).join()\n\n          else if $(e.currentTarget).data('aura-list-html')\n\n            query = $(e.currentTarget).data('aura-list-html')\n            list = $(e.currentTarget).closest('[data-aura-list]').data('aura-list')\n            index = $(e.currentTarget).closest('[data-aura-list-item]').index()\n            document = list.split('.')[0]\n            field = list.split('.')[1] + '.' + index + '.' + query\n            console.log document\n            console.log field\n            console.log index\n\n          else if $(e.currentTarget).data('aura-with-html')\n\n            query = $(e.currentTarget).data('aura-with-html')\n            withRule = $(e.currentTarget).closest('[data-aura-with]').data('aura-with')\n            withQuery = do ->\n              if withRule.split('.')\n                withRule.split('.')[0]\n              else\n                withRule\n            document = withQuery\n            field = query\n\n\n            console.log 'this is with'\n\n          coll = do ->\n            if $(e.currentTarget).closest('[data-aura-collection]').length > 0\n              $(e.currentTarget).closest('[data-aura-collection]').data('aura-collection')\n            else\n              'auraPages'\n\n          docIndex = do ->\n            if $(e.currentTarget).closest('[data-aura-index]').length > 0\n              $(e.currentTarget).closest('[data-aura-index]').data('aura-index')\n            else\n              'name'\n\n          console.log 'indx'\n          console.log docIndex\n          console.log coll\n\n          editor._changedBuffer.push {\n            field: field\n            document: document\n            index: docIndex\n            collection: coll\n            data: $.htmlClean(currentState, {format: true})\n            changedData: $.htmlClean(editor.editingItem, {format: true})\n            selectorPath: $(e.currentTarget).getPath()\n            type: 'html'\n          }\n          console.log editor._changedBuffer\n          $(e.target).closest('[contenteditable=\"true\"]').addClass('_changed')\n          editor.blured = true\n          Meteor.setTimeout ->\n            editor.blured = false\n          , 1000\n\n\n    $('body').on 'input', '[data-aura-html][contenteditable=true], [data-aura-with-html][contenteditable=true], [data-aura-list-html][contenteditable=true]', (e)->\n      markup = $(e.currentTarget).html()\n#      editor.auraEditorHtml.setValue($.htmlClean(markup, {format:true}))\n\n\n    #Editor add image\n\n\n    $('body').on 'click', '[data-aura-list-remove]', (e)->\n      index = $(e.currentTarget).closest('[data-aura-list-item]').index()\n      list = $(e.currentTarget).closest('[data-aura-list]').data('aura-list')\n      document = list.split('.')[0]\n      field = list.split('.')[1]\n      object = AuraPages.findOne({name: document}).classes[index]\n      Meteor.call 'removeListItem', document, field, object, (err, res)->\n        if err then console.log err\n\n    $('body').on 'click', '[data-aura-list-add]', (e)->\n      list = $(e.currentTarget).closest('[data-aura-list]').data('aura-list')\n      document = list.split('.')[0]\n      field = list.split('.')[1]\n      sample = AuraPages.findOne({name: document})[field][0]\n\n      Meteor.call 'addListItem', document, field, sample, (err, res)->\n        if err then console.log err\n\n\n    $('body').on 'mouseenter', '[data-aura-image-background]', (e)->\n       $(e.currentTaget).addClass('_hover')\n\n    $('body').on 'mouseleave', '[data-aura-image-background]', (e)->\n      $(e.currentTaget).removeClass('_hover')\n\n\n    $('body').on 'click', '[data-aura-image-embed]', (e)->\n      if Session.get('admin.editMode')\n        id = do ->\n          if $(e.currentTarget).hasClass('aura-float-left')\n            'set-float-left'\n          else if $(e.currentTarget).hasClass('aura-float-right')\n            'set-float-right'\n          else\n            'set-centered'\n        $(e.currentTarget).addClass('aura-image-highlight')\n        top = $(e.currentTarget).offset().top - 60\n        left = $(e.currentTarget).offset().left\n        if $('.aura-image-embed-overlay').length is 0\n          $('body').append('<div class=\"aura-image-embed-overlay\"></div>')\n          $('body').append(editor.imageEmbedEdit)\n          $('.image-embed-edit').css('left', left + 'px').css('top', top + 'px')\n          Meteor.setTimeout ->\n            $('.image-embed-edit').addClass '_opened'\n          , 100\n          $('.image-embed-edit').find('#' + id).addClass '_active'\n\n    $('body').on 'click', '.image-embed-edit button', (e)->\n      $img = $('.aura-image-highlight')\n      if !$(e.currentTarget).hasClass('remove')\n        $(e.currentTarget).addClass('_active').siblings().removeClass('_active')\n        target = $(e.currentTarget).data('class')\n        $img.removeClass('aura-float-left').removeClass('aura-float-right').removeClass('aura-centered')\n        $img.addClass(target)\n        top = $img.offset().top - 60\n        left = $img.offset().left\n        Meteor.setTimeout ->\n          $('.image-embed-edit').css('left', left + 'px').css('top', top + 'px')\n        , 400\n        $(editor.editingItemSelector).trigger('blur')\n      else\n        pic = _.last $img.attr('src').split('/')\n        Meteor.call 'deletePic', pic, 'ahsl2/images', (err, res)->\n          if err\n            console.log err\n          else\n            $img.remove()\n            $('.image-embed-edit').remove()\n            $('.aura-image-embed-overlay').remove()\n            $(e.currentTarget).closest('[contenteditable]').trigger('input')\n            Aura.notify ' !'\n\n\n    $('body').on 'click', '.aura-image-embed-overlay', (e)->\n      $('[data-aura-image-embed]').removeClass 'aura-image-highlight'\n      $('.image-embed-edit').removeClass '_opened'\n      Meteor.setTimeout ->\n        $('.image-embed-edit').remove()\n      , 400\n      $(e.currentTarget).remove()\n\n\n    $('body').on 'change', '[data-aura-instant-checkbox]', (e)->\n\n      query = $(e.currentTarget).data('aura-instant-checkbox').split('.')\n      value = $(e.currentTarget).val()\n      item = {}\n      item['collection'] = query[0]\n      item['document'] = query[1]\n      item['index'] = '_id'\n      query.shift()\n      query.shift()\n      item['field'] = query\n      item['data'] = $(e.currentTarget).is(':checked')\n      Meteor.call 'saveHtml', item, (err, res)->\n        if err\n          console.log err\n        else\n          Aura.notify ' !'\n\n\n    $('body').on 'change', '[data-aura-instant-select]', (e)->\n\n      if $(e.currentTarget).val() isnt '-'\n\n        query = $(e.currentTarget).data('aura-instant-select').split('.')\n        value = $(e.currentTarget).val()\n        item = {}\n        item['collection'] = query[0]\n        item['document'] = query[1]\n        item['index'] = '_id'\n        query.shift()\n        query.shift()\n        item['field'] = query\n        item['data'] = value\n        Meteor.call 'saveHtml', item, (err, res)->\n          if err\n            console.log err\n          else\n            Aura.notify ' !'\n\n\n\n    $('body').on 'input','[data-aura-instant-input]', (e)->\n      if Aura.inputInstantTimeout\n        clearTimeout Aura.inputInstantTimeout\n      Aura.inputInstantTimeout = Meteor.setTimeout =>\n        query = $(e.currentTarget).data('aura-instant-input').split('.')\n        value = $(e.currentTarget).val()\n        item = {}\n        item['collection'] = query[0]\n        item['document'] = query[1]\n        item['index'] = '_id'\n        query.shift()\n        query.shift()\n        item['field'] = query\n        item['data'] = do ->\n          if $(e.currentTarget).attr('type') is 'date'\n            Date.parse(new Date(value))\n          else\n            value\n        console.log item\n        Meteor.call 'saveHtml', item, (err, res)->\n          if err\n            console.log err\n          else\n            Aura.notify ' !'\n            if $(e.currentTarget).attr('id') is 'aura-alias-input'\n              Router.go Router.current().route.getName(), {alias: value}\n      , 1500\n\n\n#    Template.body.events {\n#\n#      'focus [data-aura-html][contenteditable=\"true\"]': (e)->\n#        console.log 'focused'\n#        data = $(e.currentTarget).html()\n#        markup = $.htmlClean(data, {format:true})\n#        editor.showEditor(markup)\n#        editor._trackChanges.currentValue = data\n#        editor.editingItem = data\n#        $('.editor .html-cont').data('resetData', markup)\n#        $('.editor .html-cont').data('path', $(e.target).closest('[contenteditable=\"true\"]').getPath())\n#\n#      'input [contenteditable=\"true\"]': (e)->\n#        markup = $(e.target).html()\n#        editor.auraEditorHtml.setValue($.htmlClean(markup, {format:true}))\n#\n#      'click #admin-login-modal .close': ->\n#        Aura.hideAdminModal()\n#\n#      'submit #aura-login-form': (e)->\n#        e.preventDefault()\n#        console.log 'logging in'\n#        email = $('#aura-login-form').find('#login-email').val()\n#        password = $('#aura-login-form').find('#login-password').val()\n#        Meteor.loginWithPassword email, password, (err)->\n#          if err\n#            Aura.notify ':('\n#          else\n#            Aura.notify ' !'\n#            Aura.hideAdminModal()\n#        false\n#\n#      'blur [data-aura-html][contenteditable=\"true\"]': (e)->\n#        console.log 'blurred'\n#        if !editor.blured\n#          currentState = $(e.currentTarget).html()\n#          if currentState isnt editor.editingItem\n#            query = $(e.target).data('aura-html')\n#            $('.editor .html-cont textarea').data('index', Aura._historyBuffer.length)\n#            document = query.split('.')[0]\n#            field = query.split('.').shift().join()\n#\n#            Aura._historyBuffer.push {\n#              field: field\n#              document: document\n#              prevData: editor.editingItem\n#              newData: currentState\n#              selectorPath: $(e.currentTarget).getPath()\n#              type: 'html'\n#            }\n#            editor._changedBuffer.push {\n#              field: field\n#              document: document\n#              data: currentState\n#            }\n#            console.log editor._changedBuffer\n#            console.log Aura._historyBuffer\n#            $(e.target).closest('[contenteditable=\"true\"]').addClass('_changed')\n#            editor.blured = true\n#            Meteor.setTimeout ->\n#              editor.blured = false\n#            , 1000\n#\n#      'change .aura-edit-image input[type=\"file\"]': (e)->\n#        input = $(e.target)\n#        file = input.get(0).files[0]\n#        fr = new FileReader()\n#        MainCtrl.showLoader()\n#        fr.onload = ->\n#          pic = {}\n#          pic['data'] = fr.result\n#          pic['name'] = file.name\n#          pic['size'] = file.size\n#          pic['type'] = file.type\n#          currentPic = do ->\n#            if $(e.target).closest('[data-image]').data('image-target') is 'background'\n#              path = $(e.target).closest('[data-image]').css('background-image')\n#              _.last(path.split('/')).replace(')', '')\n#            else\n#              path = $(e.target).closest('[data-image]').attr('src')\n#              _.last path.split('/')\n#          target = $(e.target).closest('[data-image]').data('image-target') or 'img'\n#          (new PNotify({\n#            title: '  ?',\n#            text: ' ,    ',\n#            hide: false,\n#            addclass: 'aura-notify',\n#            confirm: {\n#              confirm: true\n#            },\n#            buttons: {\n#              closer: false,\n#              sticker: false\n#            },\n#            history: {\n#              history: false\n#            }\n#          })).get().on('pnotify.confirm', ->\n#\n#            Aura.media.updatePic(e, pic, file, target, currentPic)\n#\n#          ).on('pnotify.cancel', ->\n#            Aura.media.uploadPic(e, pic, file, target)\n#          )\n#\n#        fr.readAsBinaryString(file)\n#\n#      'change .auraModal .list-cont .add input[type=\"file\"]': (e)->\n#        console.log 'triggered change'\n#        input = $(e.target)\n#        file = input.get(0).files[0]\n#        id = $('#albumId').val()\n#        fr = new FileReader()\n#        MainCtrl.showLoader()\n#        Aura.media.resizeAndUpload(id, file)\n#\n#      'dragover [data-image]': (e)->\n#        if e.preventDefault then e.preventDefault()\n#        $(e.target).closest('[data-image]').addClass('_hover')\n#        return false\n#      'dragenter [data-image]': (e)->\n#        if e.preventDefault then e.preventDefault()\n#        $(e.target).closest('[data-image]').addClass('_hover')\n#        return false\n#      'dragleave [data-image]': (e)->\n#        $(e.target).closest('[data-image]').removeClass('_hover')\n#        return false\n#      'drop [data-image]': (e)->\n#        e.preventDefault()\n#        e.stopPropagation()\n#        $(e.target).removeClass('_hover')\n#        file = e.originalEvent.dataTransfer.files[0]\n#        fr = new FileReader()\n#        MainCtrl.showLoader()\n#        fr.onload = ->\n#          pic = {}\n#          pic['data'] = fr.result\n#          pic['name'] = file.name\n#          pic['size'] = file.size\n#          pic['type'] = file.type\n#          currentPic = do ->\n#            if $(e.target).closest('[data-image]').data('image-target') is 'background'\n#              path = $(e.target).closest('[data-image]').css('background-image')\n#              _.last(path.split('/')).replace(')', '')\n#            else\n#              path = $(e.target).closest('[data-image]').attr('src')\n#              _.last path.split('/')\n#          target = $(e.target).closest('[data-image]').data('image-target') or 'img'\n#          (new PNotify({\n#            title: '  ?',\n#            text: ' ,    ',\n#            hide: false,\n#            confirm: {\n#              confirm: true\n#            },\n#            buttons: {\n#              closer: false,\n#              sticker: false\n#            },\n#            history: {\n#              history: false\n#            }\n#          })).get().on('pnotify.confirm', ->\n#\n#            Aura.media.updatePic(e, pic, file, target, currentPic, false)\n#\n#          ).on('pnotify.cancel', ->\n#            Aura.media.uploadPic(e, pic, file, target, false)\n#          )\n#\n#        fr.readAsBinaryString(file)\n#\n\n#\n#    }\n\n\n\n\n\n\n@Aura = {\n\n  showAdminModal: ->\n    $('#admin-login-modal').css('visibility', 'visible').removeClass('flipOutY').addClass('animated flipInY')\n\n  hideAdminModal: ->\n    $('#admin-login-modal').removeClass('flipInY').addClass('flipOutY')\n    setTimeout ->\n      $('#admin-login-modal').css('visibility', 'hidden')\n    , 500\n\n  toggleEditMode: ->\n\n    if Session.get('admin.editMode')\n      Session.set('admin.editMode', false)\n      Aura.notify ' '\n    else\n      Session.set('admin.editMode', true)\n      Aura.notify ' '\n\n  notify: (message)->\n    new PNotify({\n      title: '!',\n      text: message,\n      addclass: 'aura-notify'\n    })\n\n  inputInstantTimeout: null\n\n\n\n  media: {\n\n    uploadPic: (e, pic, file, callback)->\n\n      NProgress.start()\n\n      Meteor.call 'uploadPic', pic, 'ahsl2/images', (err, res)->\n        NProgress.done()\n\n        if err\n#          MainCtrl.hideLoader()\n          Aura.notify(' ,   !')\n        else\n          if $(e.currentTarget).data('aura-image-background') or $(e.currentTarget).data('aura-image')\n            query = do ->\n              $(e.currentTarget).data('aura-image-background') or $(e.currentTarget).data('aura-image')\n            item = {}\n            item['document'] = query.split('.')[0]\n            item['field'] = query.split('.').splice(1).join()\n            item['data'] = res\n          else if $(e.currentTarget).data('aura-list-image-background') or $(e.currentTarget).data('aura-list-image')\n            query = $(e.currentTarget).data('aura-list-image-background') or $(e.currentTarget).data('aura-list-image')\n            list = $(e.currentTarget).closest('[data-aura-list]').data('aura-list')\n            index = $(e.currentTarget).closest('[data-aura-list-item]').index()\n            item = {}\n            item['document'] = list.split('.')[0]\n            item['field'] = list.split('.')[1] + '.' + index + '.' + query\n            item['data'] = res\n          else if $(e.currentTarget).data('aura-with-image-background') or $(e.currentTarget).data('aura-with-image')\n            query = $(e.currentTarget).data('aura-with-image-background') or $(e.currentTarget).data('aura-with-image')\n            withRule = $(e.currentTarget).closest('[data-aura-with]').data('aura-with')\n            withQuery = do ->\n              if withRule.split('.')\n                withRule.split('.')[0]\n              else\n                withRule\n            item = {}\n            item['document'] = withQuery\n            item['field'] = query\n            item['data'] = res\n\n          item['collection'] = do ->\n            if $(e.currentTarget).closest('[data-aura-collection]').length > 0\n              $(e.currentTarget).closest('[data-aura-collection]').data('aura-collection')\n            else\n              'auraPages'\n\n          item['index'] = do ->\n            if $(e.currentTarget).closest('[data-aura-index]').length > 0\n              $(e.currentTarget).closest('[data-aura-index]').data('aura-index')\n            else\n              'name'\n\n          Meteor.call 'saveHtml', item, (error, response)->\n            if err then console.log 'Smth went wrong'\n          console.log item\n\n\n    updatePic: (e, pic, file, currentPic)->\n\n      Meteor.call 'deletePic', currentPic, 'ahsl2/images', (err, res)->\n\n        if err\n\n          Aura.notify '  :(    ))'\n\n        else\n\n          if res\n\n            Aura.media.uploadPic(e, pic, file)\n\n          else\n\n            Aura.notify '  :(    '\n\n    resizeAndUpload: (id, file, callback)->\n\n      console.log 'triggered upload with resize'\n\n      fileInfo = file\n\n      resize = ()->\n        console.log 'procesing resize '\n\n        deferred = $.Deferred()\n\n        $.canvasResize(file, {\n          width: 150,\n          height: 0,\n          crop: false,\n          quality: 80,\n          callback: (data)->\n            deferred.resolve(data)\n            console.log 'resized img'\n            console.log {data: data}\n        })\n\n        deferred.promise()\n\n      originalFile = ()->\n\n        deferred2 = $.Deferred()\n\n        console.log 'processing original file'\n\n        reader = new FileReader()\n\n        reader.readAsBinaryString(file)\n        reader.onload = (e)->\n          ifile = reader.result\n          deferred2.resolve(ifile)\n          console.log {reader: ifile}\n        deferred2.promise()\n\n\n\n      $.when(originalFile(), resize()).done (ifile, resizedFile)=>\n\n        pic = {}\n        resizedPic = {}\n        pic['fileInfo'] = {}\n        resizedPic['fileInfo'] = {}\n\n        console.log 'resolved'\n\n        #Explicitly cloning needed properties from the file object, avoiding weirt Firefox behavior\n\n        pic['fileInfo']['name'] = fileInfo.name\n        pic['fileInfo']['type'] = fileInfo.type\n        pic['fileInfo']['size'] = fileInfo.size\n        pic['data'] = ifile\n\n        resizedPic['fileInfo']['name'] = fileInfo.name\n        resizedPic['fileInfo']['type'] = fileInfo.type\n        resizedPic['fileInfo']['size'] = fileInfo.size\n        resizedPic['data'] = resizedFile\n\n        Meteor.call 'uploadWithThumb', [pic, resizedPic], 'ahsl2/gallery', (err, res)->\n          if err\n\n            Aura.notify ', -   :('\n\n          else\n\n            if res\n\n              callback(res)\n\n            else\n\n              Aura.notify '-   ,   !'\n\n    deletePic: (pic)->\n\n      Meteor.call 'deletePic', pic, 'ahsl2/images', (err, res)->\n\n        if err\n\n          Aura.notify '  :(    ))'\n\n        else\n\n          if res\n\n            Aura.notify '  !'\n\n          else\n\n            Aura.notify '  :(    '\n\n    deletePics: (pics)->\n\n      Meteor.call 'deletePics', pics, (err, res)->\n\n        if err\n\n          Aura.notify '  :(    ))'\n\n        else\n\n          if res\n\n            Aura.notify '  !'\n\n          else\n\n            Aura.notify '  :(    '\n\n  }\n\n\n  _logsWrite: (buffer)->\n\n    _.each buffer, (log)->\n      Logs.insert {\n        field: log.field,\n        collection: log.collection,\n        date: new Date()\n        user: 'Albert Kai'\n      }\n\n  _historyBuffer: []\n\n  _saveHistory: (buffer)->\n\n    console.log 'triggered saveHistory'\n\n    historyCount = History.find().count()\n    if historyCount + buffer.length > Aura.settings.history.size\n      toDeleteSize = historyCount + buffer.length - Aura.settings.history.size\n      toDelete = History.find({}, {sort: {date : 1}, limit: toDeleteSize }).fetch()\n      toDelete.forEach (item)->\n        id = item._id\n        History.remove id\n\n\n    _.each buffer, (history)->\n      if !history.rolledBack\n        History.insert({\n          field: history.field,\n          collection: history.collection,\n          document: history.document\n          indexField: history.indexField\n          date: new Date()\n          data: history.data\n          selectorPath: history.selectorPath\n          newData: history.newData\n          type: history.type\n          user: Meteor.user()\n          rolledBack: history.rolledBack\n          changable: history.changeable\n        })\n        console.log 'triggered saveHistory iterate'\n\n      else\n        target = History.findOne({_id: history._id})\n        target.rolledBack = !buffer.rolledBack\n        History.update {_id: history._id}, history\n\n\n\n\n\n\n  users: {\n\n    addUser: (options)->\n\n      Meteor.call 'auraAddUser', (options)->\n\n\n\n\n  }\n\n}\n\n\n@editor = {\n\n  blured: false\n\n  editingItem: ''\n\n  _changedBuffer: []\n\n  editingItemSelector: null\n\n  auraEditorHtml: null\n\n  htmlEditorInit: ->\n\n    editor.auraEditorHtml = ace.edit(\"editorHtml\")\n#    editor.auraEditorHtml.setTheme(\"ace/theme/monokai\")\n#    editor.auraEditorHtml\n#    editor.auraEditorHtml.on 'change', (e)->\n#      value = editor.auraEditorHtml.getValue().replace(/\\s+/g, ' ')\n#      target = $('.editor').find('.html-cont').data('path')\n#      console.log target\n#      console.log value\n#      $(target).html(value)\n\n  commands: {\n\n    bold: ()->\n\n      document.execCommand('bold', null, null)\n\n    italic: ->\n\n      document.execCommand('italic', null, null)\n\n    sub: ->\n\n      document.execCommand('subscript', null, null)\n\n    sup: ->\n\n      document.execCommand('superscript', null, null)\n\n    ul: ->\n\n      document.execCommand('insertUnorderedList', null, null)\n\n    ol: ->\n\n      document.execCommand('insertOrderedList', null, null)\n\n    h1: ->\n\n      document.execCommand('formatBlock', null, '<h1>')\n\n    h2: ->\n\n      document.execCommand('formatBlock', null, '<h2>')\n\n    h3: ->\n\n      document.execCommand('formatBlock', null, '<h3>')\n\n\n    h4: ->\n\n      document.execCommand('formatBlock', null, '<h4>')\n\n\n    h5: ->\n\n      document.execCommand('formatBlock', null, '<h5>')\n\n\n    h6: ->\n\n      document.execCommand('formatBlock', null, '<h6>')\n\n\n    span: ->\n\n      document.execCommand('formatBlock', null, '<span>')\n\n    link: ->\n\n      document.execCommand('createLink', false, prompt(' URL'))\n\n    justifyLeft: ->\n\n      document.execCommand('justifyLeft', null, null)\n\n    justifyCenter: ->\n\n      document.execCommand('justifyCenter', null, null)\n\n    justifyRight: ->\n\n      document.execCommand('justifyRight', null, null)\n\n    justifyFull: ->\n\n      document.execCommand('justifyFull', null, null)\n\n\n    pasteHtml: (html)->\n\n      range = window.getSelection().getRangeAt(0)\n      range.insertNode html\n\n    wrapRange: (node)->\n\n      sel = window.getSelection()\n      if sel.rangeCount\n        range = sel.getRangeAt(0).cloneRange()\n        range.surroundContents(node)\n        sel.removeAllRanges()\n        sel.addRange(range)\n\n  }\n\n\n\n  save: ->\n\n    console.log 'saving content'\n\n    if @_changedBuffer.length > 0\n      changedBuffer = editor._changedBuffer\n      length = changedBuffer.length\n      counter = 0\n      changedBuffer.forEach (buffer)->\n        Meteor.call 'saveHtml', buffer, (err, res)->\n          if err\n            console.log err\n          else\n            console.log buffer\n            console.log buffer.selectorPath\n            Meteor.defer ->\n              $(buffer.selectorPath).html(buffer.data)\n              console.log 'refreshed'\n            console.log 'changed item saved'\n\n        counter++\n        if counter is length\n          editor._changedBuffer = []\n          Aura.notify ' !'\n\n\n  imageEmbedEdit: '<div class=\"image-embed-edit\"><button id=\"set-float-left\" data-class=\"aura-float-left\"><i class=\"fa fa-long-arrow-left\"></i></button><button id=\"set-centered\" data-class=\"aura-centered\"><i class=\"fa fa-arrows-h\"></i></button><button id=\"set-float-right\" data-class=\"aura-float-right\"><i class=\"fa fa-long-arrow-right\"></i></button><button class=\"remove\"><i class=\"fa fa-times\"></i></button></div>'\n\n\n  _trackChanges:\n\n    currentValue: ''\n\n    check: ($el)->\n\n      console.log @currentValue\n\n      if $el.html() isnt @currentValue\n\n        true\n\n      else\n\n        false\n\n\n  editorSaveText: (changedBuffer, callback)->\n\n    console.log changedBuffer\n\n    user = Meteor.user()\n\n    if Roles.userIsInRole user, ['admin']\n\n      console.log 'triggered saveText'\n\n      _.each changedBuffer, (change)->\n\n        if !change.nested\n\n          console.log 'triggered saveText iterate'\n\n          newData = {}\n\n          query = {}\n          query[change.indexField] = change.document\n\n          pageId = eColl[change.collection].findOne(query)._id\n\n          newData[change.field] = change.data\n\n          eColl[change.collection].update pageId, {$set: newData}, ->\n            console.log 'saved'\n\n            console.log change.data\n\n          callback()\n\n\n        else if change.nested.type is 'array'\n\n          console.log 'triggered saveText iterate array'\n\n          newData = {}\n\n          query = {}\n          query[change.indexField] = change.document\n\n          updateObj = {}\n\n          updateObj['_id'] = eColl[change.collection].findOne(query)._id\n\n          console.log eColl[change.collection].findOne({'name': change.document})._id\n\n          updateObj[change.nested.field + '.id'] = change.nested.id\n\n          newData[change.nested.field + '.$.' + change.field] = change.data\n\n          eColl[change.collection].update updateObj, {$set: newData}, ->\n            console.log 'saved'\n\n          callback()\n\n    else\n\n      Meteor.Error(403, 'Not allowed')\n\n\n  showEditor: (val)->\n\n    $('.editor').addClass('_opened')\n    $('.editor').find('button').removeClass('_active')\n#    editor.auraEditorHtml.setValue(val)\n\n  hideEditor: ->\n    $('.editor').removeClass('_opened')\n    $('.editor').find('.html-cont').removeClass('flipInX').addClass('flipOutX')\n\n}\n\n\nAura.settings = {\n  history: {\n    size: 30\n  }\n}\n\n","Meteor.startup ->\n\n  process.env.MAIL_URL = 'smtp://albertkai:56114144as@smtp.sendgrid.net:587'\n  process.env.AWS_KEY_ID = 'AKIAJKHELBJSF7V6D7FQ'\n  process.env.AWS_SECRET = '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'","console.log 'Aura server initialized'\n\nMeteor.publish 'auraPages', ->\n  AuraPages.find()\n\nMeteor.publish 'users', ->\n  Meteor.users.find()\n\nMeteor.publish 'auraHistory', ->\n  AuraHistory.find()\n\nMeteor.publish 'auraLogs', ->\n  AuraLogs.find()\n\nMeteor.publish 'auraSettings', ->\n  AuraSettings.find()\n\nif Meteor.isServer\n  Meteor.startup ->\n    @Future = Npm.require('fibers/future')\n    @fs = Npm.require('fs')\n    @AWS = Npm.require('aws-sdk')\n    @dataUriToBuffer = Npm.require('data-uri-to-buffer')\n    AWS.config.update\n      accessKeyId: process.env.AWS_KEY_ID\n      secretAccessKey: process.env.AWS_SECRET\n#    AWS.config.loadFromPath('config.json')\n    AWS.config.region = 'eu-west-1'\n\n\nif Meteor.isServer\n\n  Meteor.methods {\n\n    uploadPic: (pic, bucket)->\n\n      loggedInUser = Meteor.user()\n      if Roles.userIsInRole(loggedInUser, ['owner', 'admin'])\n\n        s3 = new AWS.S3()\n\n        buffer = new Buffer(pic.data, 'binary')\n\n        newName = do ->\n          extention = _.last pic.name.split('.')\n          randomName = Random.id()\n          randomName + '.' + extention\n\n        origImage =  {\n          Key: newName\n          ContentType: pic.type\n          Body: buffer\n          Bucket: bucket\n        }\n\n        f = new Future()\n\n        s3.putObject origImage, (err, data)->\n          if err\n            console.log err\n            f.return(false)\n          else\n            console.log 'object ' + pic.name + ' with new name ' + newName + ' uploaded to S3! Congrats!'\n            f.return(newName)\n\n        f.wait()\n\n    uploadWithThumb: (pics, bucket)->\n\n      loggedInUser = Meteor.user()\n      if Roles.userIsInRole(loggedInUser, ['owner', 'admin'])\n\n        s3 = new AWS.S3()\n\n        origBuffer = new Buffer(pics[0].data, 'binary')\n        resizedBuffer = dataUriToBuffer(pics[1].data)\n\n        console.log pics\n        console.log pics[0].fileInfo\n        console.log pics[0].fileInfo.name\n\n        newName = do ->\n          extention = _.last pics[0].fileInfo.name.split('.')\n          randomName = Random.id()\n          {\n          orig: randomName + '.' + extention\n          thumb: randomName + '_thumb.' + extention\n          }\n\n\n        origImage =  {\n          Key: newName.orig\n          ContentType: pics[0].fileInfo.type\n          Body: origBuffer\n          Bucket: bucket\n        }\n\n        resizedImage =  {\n          Key: newName.thumb\n          ContentType: pics[0].fileInfo.type\n          Body: resizedBuffer\n          Bucket: bucket\n        }\n\n        f = new Future()\n\n        s3.putObject origImage, (err, data)->\n          if err\n            console.log err\n            f.return(false)\n          else\n            console.log 'object ' + pics[0].fileInfo.name + ' named ' + newName.orig + ' uploaded to S3! Congrats!'\n            f.return(true)\n\n        f.wait()\n\n        f = new Future()\n\n        s3.putObject resizedImage, (err, data)->\n          if err\n            console.log err\n            f.return(false)\n          else\n            console.log 'object ' + pics[1].fileInfo.name + ' thumb named ' + newName.thumb + ' uploaded to S3'\n            f.return(true)\n\n        f.wait()\n\n        newName.orig\n\n    deletePic: (pic, bucket)->\n\n      loggedInUser = Meteor.user()\n      if Roles.userIsInRole(loggedInUser, ['owner', 'admin'])\n\n        s3 = new AWS.S3()\n\n        params = {\n          Bucket: bucket\n          Key: pic\n        }\n\n        f = new Future()\n\n        s3.deleteObject params, (err, data)->\n          if (err)\n            console.log(err, err.stack)\n            f.return(false)\n          else\n            console.log data\n            console.log('object ' + pic + ' deleted from S3')\n            f.return(true)\n\n        f.wait()\n\n\n    deletePics: (pics, bucket)->\n\n      loggedInUser = Meteor.user()\n      if Roles.userIsInRole(loggedInUser, ['owner', 'admin'])\n\n        if pics.length > 0\n\n          s3 = new AWS.S3()\n\n          params = {\n            Bucket: bucket,\n            Delete: {\n              Objects: []\n            }\n          }\n\n          pics.forEach (pic)->\n            obj = {}\n            obj['Key'] = pic\n            params.Delete.Objects.push obj\n\n          f = new Future()\n\n          s3.deleteObjects params, (err, data)->\n            if (err)\n              console.log(err, err.stack)\n              f.return(false)\n            else\n              console.log('object ' + pics + ' deleted from S3')\n              f.return(true)\n\n          f.wait()\n\n        else\n\n          console.log 'no pics to delete'\n\n          true\n\n\n    auraCreateUser: (options)->\n\n      console.log 'creating new user'\n\n      loggedInUser = Meteor.user()\n      if Roles.userIsInRole(loggedInUser, ['owner'])\n        user = Accounts.createUser {\n          username: options.name\n          email: options.email\n          password: options.password\n          profile: {\n            name: options.name,\n            surname: options.surname,\n            pic: options.pic if options.pic?\n          }\n        }\n\n        Roles.addUsersToRoles(user, options.role)\n\n        user\n      else\n        'Permission denied'\n\n\n\n    auraRemoveUser: (id)->\n\n      loggedInUser = Meteor.user()\n      userToDelete = Meteor.users.findOne({_id: id})\n      if Roles.userIsInRole(loggedInUser, ['owner'])\n        if !Roles.userIsInRole(userToDelete, ['owner'])\n          Meteor.users.remove {'_id': id}\n        else\n          Aura.notify '   ,     '\n\n\n    saveHtml: (item)->\n      loggedInUser = Meteor.user()\n      if Roles.userIsInRole(loggedInUser, ['owner', 'admin'])\n        query = {}\n        searchQuery = {}\n        query[item.field] = item.data\n        searchQuery[item.index] = item.document\n        console.log item\n        console.log searchQuery\n        console.log query\n        AuraColl[item.collection].update searchQuery, {$set: query}\n\n        Meteor.call 'saveHistory', item\n#        Meteor.call 'saveLogs', item\n\n#        AuraLogs.insert {\n#          userId:\n#          name:\n#        }\n\n    saveHistory: (item)->\n      loggedInUser = Meteor.user()\n      console.log 'History item:'\n      historyItem = item\n      if Roles.userIsInRole(loggedInUser, ['owner', 'admin'])\n        historyItem['userId'] = loggedInUser._id\n        historyItem['name'] = loggedInUser.profile.name\n        historyItem['surname'] = loggedInUser.profile.surname\n        historyItem['date'] = Date.parse(new Date())\n        historyItem['restored'] = false\n        console.log historyItem\n        AuraHistory.insert historyItem\n\n    restoreHistory: (id)->\n\n      loggedInUser = Meteor.user()\n      item = AuraHistory.findOne({_id: id})\n      console.log 'Restoring history item:'\n      console.log item\n      if Roles.userIsInRole(loggedInUser, ['owner', 'admin'])\n        query = {}\n        searchQuery = {}\n        searchQuery[item.index] = item.document\n        query[item.field] = do ->\n          if !item.restored\n            item.changedData\n          else\n            item.data\n        AuraColl[item.collection].update searchQuery, {$set: query}\n        AuraHistory.update {_id: id}, {$set: {restored: !item.restored}}\n        query[item.field]\n\n\n\n    addListItem: (document, field, object)->\n      loggedInUser = Meteor.user()\n      if Roles.userIsInRole(loggedInUser, ['owner', 'admin'])\n        query = {}\n        query[field] = object\n        AuraPages.update {'name': document}, {$push: query}\n\n    removeListItem: (document, field, object)->\n      loggedInUser = Meteor.user()\n      if Roles.userIsInRole(loggedInUser, ['owner', 'admin'])\n        query = {}\n        query[field] = object\n        AuraPages.update {'name': document}, {$pull: query}\n\n  }","#\n#AuraPages.remove {'_id': AuraPages.findOne({name: 'common'})._id}\n#AuraPages.remove {'_id': AuraPages.findOne({name: 'index'})._id}\n#AuraPages.remove {'_id': AuraPages.findOne({name: 'children'})._id}\n#AuraPages.remove {'_id': AuraPages.findOne({name: 'teens'})._id}\n#AuraPages.remove {'_id': AuraPages.findOne({name: 'lateTeens'})._id}\n#AuraPages.remove {'_id': AuraPages.findOne({name: 'grownUps'})._id}\n#if AuraPages.findOne({name: 'news'})\n#  AuraPages.remove {'_id': AuraPages.findOne({name: 'news'})._id}\n#if AuraPages.findOne({name: 'events'})\n#  AuraPages.remove {'_id': AuraPages.findOne({name: 'events'})._id}\n\n#if AuraPages.findOne({name: 'summer'})\n#  AuraPages.remove {'_id': AuraPages.findOne({name: 'summer'})._id}\n\nif AuraPages.find({name: 'summer'}).count() is 0\n\n  AuraPages.insert {\n\n    name: 'summer'\n    mainDesc: '<h2>          2015.</h2>\n\n                            <p>      ,                  , ,    .                         .</p>\n\n                            <p>        .       ,  ,        .              ,      .          ,    ,       .</p>\n\n                            <p>    . -  , -   .         hi-teck.      ,      .  5           .        ,    15 .       ,     ,    ,      .   ,       ,         .  ,     ,           ...       .</p>\n\n                            <h3>  2     ,    :</h3>\n\n                               <ul>\n                                   <li><strong>  </strong></li>\n                                   <li><strong>      </strong></li>\n                               </ul>\n\n                            <h3>           5   13 </h3>\n\n                        <ul>\n\n                            <li>     (   ,  ,  ;    ;   )</li>\n                            <li>  (   ,  ;     )</li>\n                            <li>  ( .  .  :   .   , , ,         )</li>\n                            <li>  (-  ;  ;          ;    -    ,         ;          ;   ,    )</li>\n                            <li>  (  ,   ; ;  ;  ;  -;  )</li>\n                            <li> ( ;         ,   ;  ; ; ;    ,   ,      ,  , )</li>\n                            <li> (.   .  .   .    . ;   .         .  .  .  .  . )</li>\n                            <li>  (   ;   ;   -  ;   ;       ;   .)</li>\n                            <li> (  ;  ;      ;  ;  ;   ;    - ,    )</li>\n                        </ul>\n\n                        <h3>           18 </h3>\n\n                        <ul>\n                            <li> .    (     ;     ,  ;     ;   ;  ,   ,     ..  ,  ,  -)</li>\n                            <li>   , ,     (   ;       )</li>\n                            <li>  (   ;     ,       ;   )</li>\n                            <li>   ( ,  ,       ;     ;  ,  , ;        ;   ;  ,  ; -).        , -  ..- 6   )</li>\n                            <li>  (    ;    ;  -    .     VIP-,        ,   ,     )</li>\n                            <li>- (  ;    ;   ;   ;  ; -;   ;  ; :   ,  ,    )  6   )</li>\n                            <li>   (                      .    ,  ,          )</li>\n                            <li>   (-      ,  ,         .    ,          )</li>\n                            <li>  (   ;    ;       ;  ,   ;      ;   ;     ;    ;      )</li>\n                        </ul>\n\n                        <h4>    :</h4>\n\n                        <ul>\n                            <li>PR (   public relations)</li>\n                            <li>  </li>\n                            <li> </li>\n                            <li> </li>\n                            <li> </li>\n                            <li></li>\n                            <li>.  </li>\n                        </ul>\n\n                        <!--{{#if online}}-->\n                        <!--<h4> :</h4>-->\n                        <!--<div class=\"types\">-->\n\n                            <!--<button class=\"item\" data-type=\"live\"></button>-->\n                            <!--{{#if online}}-->\n                            <!--<button class=\"item\" data-type=\"webinar\"></button>-->\n                            <!--{{/if}}-->\n                            <!--{{#if gotVideo}}-->\n                            <!--<button class=\"item\" data-type=\"video\"></button>-->\n                            <!--{{/if}}-->\n\n                        <!--</div>-->\n                        <!--{{/if}}-->\n                        <!--<h4>:</h4>-->\n                        <!--<h3 class=\"main-price\">{{currentPrice}}</h3>-->'\n\n    firstDate: ' <span>24 </span>  <span>13 </span>'\n    secondDate: ' <span>14 </span>  <span>4 </span>'\n    thirdDate: 'c <span>5 </span>  <span>24 </span>'\n    disclaimer: '    '\n    price: '78 500 '\n    priceExtended: '(    <span class=\"price\">56000</span> +   <span class=\"price\">25000</span>)'\n    priceList: '<li>  </li>\n                            <li>   4   ,  </li>\n                            <li>  </li>\n                            <li>   </li>\n                            <li> </li>\n                            <li></li>\n                            <li> </li>\n                            <li> </li>\n                            <li>  </li>\n                            <li> </li>\n                            <li></li>\n                            <li> </li>'\n    roomList: '<li>  ( 2 )</li>\n                            <li>   </li>\n                            <li>  </li>\n                            <li>  (  )</li>\n                            <li></li>\n                            <li></li>\n                            <li>  </li>\n                            <li> </li>\n                            <li> </li>\n                            <li> </li>\n                            <li></li>\n                            <li>-</li>\n                            <li></li>\n                            <li> </li>\n                            <li>  </li>\n                            <li></li>\n                            <li> /</li>'\n    mediaList: '<li>   </li>'\n    additionalList: '<li></li>\n                            <li> SPA</li>\n                            <li> .     .        ()   .             10-15 !</li>'\n    pansion: '   (, ,  ) - <span>2900  </span>'\n    elseList: '<li>Wi-Fi      </li>\n                            <li> /  ()</li>\n                            <li>  </li>\n                            <li> </li>\n                            <li> /  </li>\n                            <li></li>\n                            <li>   </li>\n                            <li>  </li>\n                            <li> </li>\n                            <li></li>\n                            <li>  </li>\n                            <li> </li>\n                            <li></li>\n                            <li> </li>\n                            <li></li>\n                            <li>    .\n                                !</li>\n                            <li>     2        </li>\n                            <li>     12      RUB 1000  </li>\n                            <li>             RUB 1500  </li>\n                            <li>      - 1</li>'\n    disclaimer2: '              '\n\n\n\n  }\n\n#if AuraPages.find({name: 'common'}).count() is 0\n#\n#  AuraPages.insert {\n#    name: 'common'\n#    phoneMain: '(812) 345-54-54'\n#    phoneSecond: '(812) 344-53-53'\n#    emailMain: 'info@sisi-elizabeth.com'\n#    address: '-,  . 34, Austrian Higher School of Ladies'\n#    footerDesc: '<span><strong>2012-2014</strong> Austrian Higher School of Ladies. </span>   .'\n#    vkLink: 'http://vk.com'\n#    facebookLink: 'http://facebook.com'\n#    twitterLink: 'http://twitter.com'\n#    instagramLink: 'http://instagram.com'\n#  }\n#\n#if AuraPages.find({name: 'index'}).count() is 0\n#\n#  AuraPages.insert {\n#    name: 'index'\n#    header1: ' '\n#    header2: ''\n#    header3: ' '\n#    header4: ''\n#    header5: ''\n#    header6: ''\n#    slider: [\n#      {\n#        pic: 'slider_1.jpg'\n#        desc: '      Sisi Elizabeth  1867 '\n#      },\n#      {\n#        pic: 'slider_2.jpg'\n#        desc: '<span>    :</span> <span>,  ,  ,      </span>'\n#      },\n#      {\n#        pic: 'slider_3.jpg'\n#        desc: '<span>25 </span> <span>     -   \" .   \"</span>'\n#      },\n#      {\n#        pic: 'slider_4.jpg'\n#        desc: '<span> :</span> <span>   Marie De Tilly,     Sotheby\\'s,    Paul Brown</span>'\n#      }\n#    ]\n#    mainDesc: '<p class=\"quot\">\n#                                    1867       \n#                        </p>\n#                        <p>\n#                                              , ,   ,    ,  .\n#                                  . -         ,          .\n#                        </p>\n#                        <p>                 .        ( )     -         ,             .</p>\n#                        <p>                       .     ,   Quality Assurance Agency -       .     ,    ,   , ,   ,     . </p>'\n#\n#\n#  }\n#\n#\n#if AuraPages.find({name: 'contacts'}).count() is 0\n#\n#  AuraPages.insert {\n#    name: 'contacts'\n#    emailMain: 'ladiesschool@me.com - <span></span>'\n#    emailSecondary: 'ladiesschool@me.com - <span> </span>'\n#    phoneHeader: ':'\n#    emailHeader: 'E-mail:'\n#    addressHeader: ':'\n#    allQuestions: '   :'\n#    weWillContactU: '   ,        :'\n#  }\n#\n#if AuraPages.find({name: 'children'}).count() is 0\n#\n#  AuraPages.insert {\n#    name: 'children'\n#    heading: '<span></span><span></span>'\n#    mainPic: 'direction_bg3.jpg'\n#    indexDesc: '    '\n#    mainDesc: '<p>\t,    ,      4-      ?</p><p>      !        -  ,  ,                .       !              .        ,     . </p>'\n#    mainQuot: '      . -            '\n#    classes: [\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\"> .  .  .          .        </p> <p>       .          ,          ,    . </p>'\n#        pic: 'etiket.jpg'\n#      },\n#      {\n#        name: '',\n#        desc: '<p class=\"quot\">     ,    .          ,       Dior  Dolce & Gabbana! </p><p>      ,   casual    .         !     (     !         !)       ! </p>'\n#        pic: 'stilistika.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p>         ..           .                .          .          .    ,     .  </p>'\n#        pic: 'imidzeologia.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">          -    ,       .           ,        .</p><p>         .            ,    </p>'\n#        pic: 'verhovaya.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">  -        .</p><p>             ,           ,        .                 .  </p>'\n#        pic: 'akterskoe.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\">        , ,    , ,   ,  ,     .</p><p>          ,   , ,    (),     . </p>'\n#        pic: 'horeografia.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">       .            , ,     .            . </p><p>       ,       ,    .         ,     ,     .</p>'\n#        pic: 'angliyskiy.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p>  ,    ,  ,     ,       .      ,          . </p>'\n#        pic: 'foto.jpg'\n#      },\n#      {\n#        name: '  '\n#        desc: '<p>        ,              .     ,     . </p>',\n#        pic: 'kuhna.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\">      .       ,         .</p><p> ,         ,  ,                  .              .</p>'\n#        pic: 'defile.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">      ,   .             .</p><p>          .          ,               .  </p>'\n#        pic: 'istoria.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p> ,         .         .   !      .    .     !</p>',\n#        pic: 'psichologia.jpg'\n#      },\n#      {\n#        name: '   '\n#        desc: '<p>                  ,               ,   .             .</p>'\n#        pic: 'meropriatia.jpeg'\n#      }\n#    ]\n#\n#  }\n#\n#\n#\n#\n#if AuraPages.find({name: 'teens'}).count() is 0\n#\n#  AuraPages.insert {\n#    name: 'teens'\n#    heading: '<span></span><span></span>'\n#    mainPic: 'direction_bg3.jpg'\n#    indexDesc: '    '\n#    mainDesc: '<p>\t,    ,      4-      ?</p><p>      !        -  ,  ,                .       !              .        ,     . </p>'\n#    mainQuot: '      . -            '\n#    classes: [\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\"> .  .  .          .        </p> <p>       .          ,          ,    . </p>'\n#        pic: 'etiket.jpg'\n#      },\n#      {\n#        name: '',\n#        desc: '<p class=\"quot\">     ,    .          ,       Dior  Dolce & Gabbana! </p><p>      ,   casual    .         !     (     !         !)       ! </p>'\n#        pic: 'stilistika.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p>         ..           .                .          .          .    ,     .  </p>'\n#        pic: 'imidzeologia.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">          -    ,       .           ,        .</p><p>         .            ,    </p>'\n#        pic: 'verhovaya.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">  -        .</p><p>             ,           ,        .                 .  </p>'\n#        pic: 'akterskoe.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\">        , ,    , ,   ,  ,     .</p><p>          ,   , ,    (),     . </p>'\n#        pic: 'horeografia.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">       .            , ,     .            . </p><p>       ,       ,    .         ,     ,     .</p>'\n#        pic: 'angliyskiy.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p>  ,    ,  ,     ,       .      ,          . </p>'\n#        pic: 'foto.jpg'\n#      },\n#      {\n#        name: '  '\n#        desc: '<p>        ,              .     ,     . </p>',\n#        pic: 'kuhna.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\">      .       ,         .</p><p> ,         ,  ,                  .              .</p>'\n#        pic: 'defile.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">      ,   .             .</p><p>          .          ,               .  </p>'\n#        pic: 'istoria.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p> ,         .         .   !      .    .     !</p>',\n#        pic: 'psichologia.jpg'\n#      },\n#      {\n#        name: '   '\n#        desc: '<p>                  ,               ,   .             .</p>'\n#        pic: 'meropriatia.jpeg'\n#      }\n#    ]\n#\n#  }\n#\n#\n#if AuraPages.find({name: 'lateTeens'}).count() is 0\n#\n#  AuraPages.insert {\n#    name: 'lateTeens'\n#    heading: '<span></span><span></span>'\n#    mainPic: 'direction_bg3.jpg'\n#    indexDesc: '    '\n#    mainDesc: '<p>\t,    ,      4-      ?</p><p>      !        -  ,  ,                .       !              .        ,     . </p>'\n#    mainQuot: '      . -            '\n#    classes: [\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\"> .  .  .          .        </p> <p>       .          ,          ,    . </p>'\n#        pic: 'etiket.jpg'\n#      },\n#      {\n#        name: '',\n#        desc: '<p class=\"quot\">     ,    .          ,       Dior  Dolce & Gabbana! </p><p>      ,   casual    .         !     (     !         !)       ! </p>'\n#        pic: 'stilistika.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p>         ..           .                .          .          .    ,     .  </p>'\n#        pic: 'imidzeologia.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">          -    ,       .           ,        .</p><p>         .            ,    </p>'\n#        pic: 'verhovaya.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">  -        .</p><p>             ,           ,        .                 .  </p>'\n#        pic: 'akterskoe.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\">        , ,    , ,   ,  ,     .</p><p>          ,   , ,    (),     . </p>'\n#        pic: 'horeografia.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">       .            , ,     .            . </p><p>       ,       ,    .         ,     ,     .</p>'\n#        pic: 'angliyskiy.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p>  ,    ,  ,     ,       .      ,          . </p>'\n#        pic: 'foto.jpg'\n#      },\n#      {\n#        name: '  '\n#        desc: '<p>        ,              .     ,     . </p>',\n#        pic: 'kuhna.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\">      .       ,         .</p><p> ,         ,  ,                  .              .</p>'\n#        pic: 'defile.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">      ,   .             .</p><p>          .          ,               .  </p>'\n#        pic: 'istoria.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p> ,         .         .   !      .    .     !</p>',\n#        pic: 'psichologia.jpg'\n#      },\n#      {\n#        name: '   '\n#        desc: '<p>                  ,               ,   .             .</p>'\n#        pic: 'meropriatia.jpeg'\n#      }\n#    ]\n#\n#  }\n#\n#\n#\n#if AuraPages.find({name: 'grownUps'}).count() is 0\n#\n#  AuraPages.insert {\n#    name: 'grownUps'\n#    heading: '<span></span><span></span>'\n#    indexDesc: '    '\n#    mainPic: 'direction_bg3.jpg'\n#    mainDesc: '<p>\t,    ,      4-      ?</p><p>      !        -  ,  ,                .       !              .        ,     . </p>'\n#    mainQuot: '      . -            '\n#    classes: [\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\"> .  .  .          .        </p> <p>       .          ,          ,    . </p>'\n#        pic: 'etiket.jpg'\n#      },\n#      {\n#        name: '',\n#        desc: '<p class=\"quot\">     ,    .          ,       Dior  Dolce & Gabbana! </p><p>      ,   casual    .         !     (     !         !)       ! </p>'\n#        pic: 'stilistika.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p>         ..           .                .          .          .    ,     .  </p>'\n#        pic: 'imidzeologia.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">          -    ,       .           ,        .</p><p>         .            ,    </p>'\n#        pic: 'verhovaya.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">  -        .</p><p>             ,           ,        .                 .  </p>'\n#        pic: 'akterskoe.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\">        , ,    , ,   ,  ,     .</p><p>          ,   , ,    (),     . </p>'\n#        pic: 'horeografia.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">       .            , ,     .            . </p><p>       ,       ,    .         ,     ,     .</p>'\n#        pic: 'angliyskiy.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p>  ,    ,  ,     ,       .      ,          . </p>'\n#        pic: 'foto.jpg'\n#      },\n#      {\n#        name: '  '\n#        desc: '<p>        ,              .     ,     . </p>',\n#        pic: 'kuhna.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\">      .       ,         .</p><p> ,         ,  ,                  .              .</p>'\n#        pic: 'defile.jpg'\n#      },\n#      {\n#        name: ' '\n#        desc: '<p class=\"quot\">      ,   .             .</p><p>          .          ,               .  </p>'\n#        pic: 'istoria.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p> ,         .         .   !      .    .     !</p>',\n#        pic: 'psichologia.jpg'\n#      },\n#      {\n#        name: '   '\n#        desc: '<p>                  ,               ,   .             .</p>'\n#        pic: 'meropriatia.jpeg'\n#      }\n#    ]\n#\n#  }\n\n#AuraPages.update {name: 'grownUps'}, {$set: {'interBg': 'inter_bg.jpg'}}\n#AuraPages.update {name: 'lateTeens'}, {$set: {'interBg': 'inter_bg.jpg'}}\n#\n#\n#if AuraPages.find({name: 'international'}).count() is 0\n#\n#  AuraPages.insert {\n#    name: 'international'\n#    heading: '<span></span><span></span>'\n#    indexDesc: '    '\n#    mainPic: 'direction_bg3.jpg'\n#    mainDesc: '<p>\t,    ,      4-      ?</p><p>      !        -  ,  ,                .       !              .        ,     . </p>'\n#    mainQuot: '      . -            '\n#    classes: [\n#      {\n#        name: ''\n#        desc: '<p class=\"quot\"> .  .  .          .        </p> <p>       .          ,          ,    . </p>'\n#        pic: 'etiket.jpg'\n#      },\n#      {\n#        name: '',\n#        desc: '<p class=\"quot\">     ,    .          ,       Dior  Dolce & Gabbana! </p><p>      ,   casual    .         !     (     !         !)       ! </p>'\n#        pic: 'stilistika.jpg'\n#      },\n#      {\n#        name: ''\n#        desc: '<p>         ..           .                .          .          .    ,     .  </p>'\n#        pic: 'imidzeologia.jpg'\n#      }\n#    ]\n#\n#  }\n\n\n#Meteor.users.find().fetch().forEach (u)->\n#  Meteor.users.remove {'_id': u._id}\n#AuraHistory.find().fetch().forEach (i)->\n#  AuraHistory.remove {_id: i._id}\n\n#if AuraHistory.find().count() > 50\n#\n#  AuraHistory.find().fetch().forEach (i)->\n#    AuraHistory.remove {_id: i._id}\n\n#Creating users\n\nMeteor.startup ->\n\n  if Meteor.users.find().count() is 0\n\n    user = Accounts.createUser {\n        username: 'ksusha'\n        email: 'bastrikina2011@yandex.ru'\n        password: '12345678'\n        profile: {\n          name: '',\n          surname: '',\n          pic: 'ksusha.jpg'\n        }\n      }\n\n    user2 = Accounts.createUser {\n      username: 'masha'\n      email: 'maria-skr-rt@mail.ru'\n      password: '12345678'\n      profile: {\n        name: '',\n        surname: '',\n        pic: 'masha.jpg'\n      }\n    }\n\n    user3 = Accounts.createUser {\n      username: 'albert_kai'\n      email: 'albertkai@me.com'\n      password: '12345678'\n      profile: {\n        name: '',\n        surname: '',\n        pic: 'albert.jpg'\n      }\n    }\n\n    Roles.addUsersToRoles(user, ['owner'])\n    Roles.addUsersToRoles(user2, ['owner'])\n    Roles.addUsersToRoles(user3, ['admin'])\n\n"]}